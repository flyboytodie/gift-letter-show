<!DOCTYPE html><html lang=zh-CN><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1.0"><title>礼物编辑页</title><link rel=stylesheet href=/edit.a40be6a2.css><script>window.REACT_APP_API_URL="${REACT_APP_API_URL:-}";</script><link href=https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.snow.css rel=stylesheet><body>
    <div class=container>
        <header>
            <h1>礼物编辑页</h1>
            <div class=header-actions>
                <input id=site-title placeholder=请输入网站标题 value=我的礼物>
                <div class=color-picker>
                    <button class="active color-btn pink" data-color=pink>温馨粉</button>
                    <button class="color-btn white" data-color=white>简约白</button>
                    <button class="blue color-btn" data-color=blue>治愈蓝</button>
                </div>
            </div>
            
            <div class=font-selector style="background-color:#ffffffe6;border-radius:20px;margin-top:20px;padding:20px;box-shadow:0 2px 12px #0000001a">
                <h3 style=color:#333;margin-bottom:15px;font-size:18px;font-weight:700>字体选择</h3>
                <div style=align-items:center;gap:15px;margin-bottom:15px;display:flex>
                    <span style=font-weight:500>选择字体：</span>
                    <select id=font-select style="cursor:pointer;background-color:#ffffffe6;border:2px solid #0000001a;border-radius:20px;padding:8px 16px;font-family:inherit;font-size:16px">
                        <option value="'Bubblegum Sans', 'ZCOOL QingKe HuangYou', 'Comic Neue', 'Nunito', 'Microsoft YaHei', 'Arial Rounded MT Bold', Arial, sans-serif">圆润可爱</option>
                        <option value="'Caveat', 'Ma Shan Zheng', 'Comic Neue', 'Microsoft YaHei', Arial, sans-serif">艺术手写</option>
                        <option value="'ZCOOL QingKe HuangYou', 'Microsoft YaHei', Arial, sans-serif">清新宋体</option>
                        <option value="'Microsoft YaHei', Arial, sans-serif">默认字体</option>
                    </select>
                </div>
                <div id=font-preview style="background-color:#ffffffb3;border:2px dashed #0000001a;border-radius:15px;min-height:100px;padding:20px;font-size:18px;line-height:1.6">
                    预览文本：这是一段测试文字，用于预览所选字体的效果。
                </div>
            </div>

            
            <div class=edit-state>
                <div class=edit-state-content>
                    <span>编辑状态管理：</span>
                    <input id=edit-id-input placeholder=输入编辑ID恢复编辑状态>
                    <button id=load-edit-btn>恢复</button>
                </div>
                <div id=current-edit-id></div>
            </div>
        </header>

        <main>
            
            <section class=gift-section>
                <h2>礼物管理</h2>
                <button id=add-gift class=btn-primary>添加礼物</button>
                <div id=gift-grid class=gift-grid>
                    
                </div>
            </section>

            
            <section class=letter-section>
                <h2>书信编辑</h2>
                <input id=letter-title placeholder=请输入书信标题 value=生日祝福>
                <div id=letter-content class=letter-content>
                    
                </div>
            </section>

            
            <section class=music-section>
                <h2>背景音乐</h2>
                <div style=flex-wrap:wrap;align-items:center;gap:20px;margin-bottom:30px;display:flex>
                    <span style=white-space:nowrap;color:#333;font-size:16px;font-weight:600>选择音乐：</span>
                    <div style=flex:1;align-items:center;gap:12px;min-width:250px;display:flex>
                        <button id=music-upload-btn style="cursor:pointer;text-align:center;background-color:#fffffff2;border:2px solid #0000001a;border-radius:25px;flex:1;padding:16px 24px;font-family:inherit;font-size:16px;font-weight:700;transition:all .3s;box-shadow:0 2px 8px #0000001a">选择文件</button>
                        <input type=file id=music-upload accept=audio/* style=display:none>
                        <div id=music-filename style="color:#666;white-space:nowrap;text-overflow:ellipsis;text-align:center;background-color:#fffc;border:1px solid #0000001a;border-radius:20px;min-width:180px;padding:12px 20px;font-size:14px;font-weight:500;overflow:hidden">未选择</div>
                    </div>
                    <button id=clear-music style="cursor:pointer;background-color:#fffffff2;border:2px solid #0000001a;border-radius:25px;padding:12px 24px;font-family:inherit;font-size:14px;font-weight:700;transition:all .3s;box-shadow:0 2px 8px #0000001a">清除音乐</button>
                </div>
                <div id=music-player class=music-player>
                    <button id=play-btn>播放</button>
                    <input type=range id=volume min=0 max=1 step=0.1 value=0.5>
                    <span id=music-info>未选择</span>
                </div>
                <div style=color:#666;background-color:#ffffffb3;border-radius:15px;margin-top:15px;padding:15px;font-size:14px>
                    <p>🎵 <strong>操作说明：</strong></p>
                    <ul style=margin-top:10px;padding-left:20px;list-style-type:none>
                        <li style=margin-bottom:5px>• 点击「选择文件」上传新的背景音乐</li>
                        <li style=margin-bottom:5px>• 点击「清除音乐」移除当前背景音乐</li>
                        <li style=margin-bottom:5px>• 再次上传音乐将自动替换当前音乐</li>
                        <li style=margin-bottom:5px>• 不选择音乐则展示页不会有背景音乐</li>
                    </ul>
                </div>
            </section>

            
            <section class=generate-section>
                <button id=preview-btn class=btn-secondary>预览</button>
                <button id=generate-btn class=btn-primary>生成展示包</button>
                <div id=generate-info class=generate-info>
                    
                </div>
            </section>
        </main>
    </div>

    
    <div id=gift-modal class=modal>
        <div class=modal-content>
            <span class=close>×</span>
            <h3>编辑礼物</h3>
            <div id=current-media-preview style=background-color:#f5f5f5;border-radius:5px;margin-bottom:15px;padding:10px;display:none>
                <h4 style=margin-top:0;font-size:14px>当前媒体文件：</h4>
                <div id=media-preview-content style=margin-top:10px></div>
                <p style=color:#666;margin-top:10px;font-size:12px>提示：选择新文件将替换当前媒体</p>
            </div>
            <input type=file id=gift-file accept=image/*,video/*>
            <textarea id=gift-note placeholder=请输入礼物备注></textarea>
            <button id=save-gift class=btn-primary>保存</button>
        </div>
    </div>

    
    <div id=preview-modal class=modal>
        <div class="large modal-content">
            <span class=close>×</span>
            <h3>预览效果</h3>
            <div id=preview-content>
                
            </div>
        </div>
    </div>

    
    <div id=crop-modal class=modal>
        <div class="large modal-content">
            <span class=close>×</span>
            <h3>裁剪图片 (1:1)</h3>
            <div class=crop-container>
                <img id=crop-image src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1' height='1'/%3E" alt=裁剪图片>
            </div>
            <div class=crop-actions>
                <button id=cancel-crop class=btn-secondary>取消</button>
                <button id=confirm-crop class=btn-primary>确认裁剪</button>
            </div>
        </div>
    </div>

    
    <script src=https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.min.js></script>
    <script src=https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js></script>
    <script src=https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js></script>
    <script src=https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js></script>
    <script src=https://cdn.jsdelivr.net/npm/howler@2.2.3/dist/howler.min.js></script>
    
    <link href=https://cdn.jsdelivr.net/npm/cropperjs@1.5.13/dist/cropper.min.css rel=stylesheet>
    <script src=https://cdn.jsdelivr.net/npm/cropperjs@1.5.13/dist/cropper.min.js></script>
    <script src=/edit.94cbf3ab.js></script>

